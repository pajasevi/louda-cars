+function(b){function c(a,g){var d=b.proxy(this.process,this);this.$body=b("body");this.$scrollElement=b(a).is("body")?b(window):b(a);this.options=b.extend({},c.DEFAULTS,g);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",d);this.refresh();this.process()}function l(a){return this.each(function(){var g=b(this),d=g.data("bs.scrollspy"),e="object"==typeof a&&a;d||g.data("bs.scrollspy",
d=new c(this,e));if("string"==typeof a)d[a]()})}c.VERSION="3.2.0";c.DEFAULTS={offset:10};c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};c.prototype.refresh=function(){var a="offset",g=0;b.isWindow(this.$scrollElement[0])||(a="position",g=this.$scrollElement.scrollTop());this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var e=
b(this),k=e.data("target")||e.attr("href"),d=/^#./.test(k)&&b(k);return d&&d.length&&d.is(":visible")&&e.is(":visible")&&[[d[a]().top+g,k]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})};c.prototype.process=function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=this.getScrollHeight(),d=this.options.offset+b-this.$scrollElement.height(),e=this.offsets,c=this.targets,h=this.activeTarget,f;this.scrollHeight!=b&&this.refresh();
if(a>=d)return h!=(f=c[c.length-1])&&this.activate(f);if(h&&a<=e[0])return h!=(f=c[0])&&this.activate(f);for(f=e.length;f--;)h!=c[f]&&a>=e[f]&&(!e[f+1]||a<=e[f+1])&&this.activate(c[f])};c.prototype.activate=function(a){this.activeTarget=a;b(this.selector).parentsUntil(this.options.target,".active").removeClass("active");a=b(this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]').parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active"));
a.trigger("activate.bs.scrollspy")};var m=b.fn.scrollspy;b.fn.scrollspy=l;b.fn.scrollspy.Constructor=c;b.fn.scrollspy.noConflict=function(){b.fn.scrollspy=m;return this};b(window).on("load.bs.scrollspy.data-api",function(){b('[data-spy="scroll"]').each(function(){var a=b(this);l.call(a,a.data())})})}(jQuery);
